import{a as f,t as h,c as P}from"./disclose-version.B6U6Qg9F.js";import{g as r,j as t,i as y,s as x,m as G,ac as H,v as T,w,k as C,l as a,t as z,o as A,x as j,y as B}from"./index-client.Br0fZ5fH.js";import{e as q,i as I,b as D,p as E,j as F}from"./props.C2gVJaBR.js";import{s as _,h as J,e as K,i as L}from"./attributes.Bkhssghn.js";import{c as N}from"./svelte-component.ZC_HgcEA.js";import"./transform.BXP9HJX6.js";import{s as O,S as Q}from"./Story.xIyPSblS.js";import{b as $}from"./entry.BXDN_bx5.js";var R=h('<div class="interstitial-inner svelte-q2f8u"><div class="sticker-set svelte-q2f8u"><img class="icon svelte-q2f8u" alt="mailbox sticker"></div> <p class="svelte-q2f8u">Get The Pudding in your inbox</p> <form action="https://buttondown.com/api/emails/embed-subscribe/thepudding" method="post" class="embeddable-buttondown-form svelte-q2f8u"><input type="email" class="email-input" name="email" placeholder="you@example.com"> <input type="hidden" value="1" name="embed"> <input type="submit" class="submit-input svelte-q2f8u" value="Subscribe"></form></div>');function U(c){var s=R(),i=r(s),v=r(i);_(v,"src",`${$??""}/assets/stickers/mailbox@2x.png`),t(i),y(4),t(s),f(c,s)}var V=h(`<div class="interstitial-inner svelte-14g0gtj"><p class="svelte-14g0gtj">If you like our stories, you'll love our merch</p> <div class="sticker-set svelte-14g0gtj"><img class="icon svelte-14g0gtj" alt="pudding tee"></div> <a href="https://the-pudding.printify.me/products" class="svelte-14g0gtj">Shop our swag</a></div>`);function W(c){var s=V(),i=x(r(s),2),v=r(i);_(v,"src",`${$??""}/assets/img/merch-tease.png`),t(i),y(2),t(s),f(c,s)}var X=h('<p class="svelte-tdk0fw">Some of my favorite projects: <!>.</p> <div class="credit svelte-tdk0fw"><a class="svelte-tdk0fw"><img class="svelte-tdk0fw"> <p class="name svelte-tdk0fw"> </p> <p class="title svelte-tdk0fw">Pudding Staff</p></a></div>',1),Y=h('<div class="interstitial-inner svelte-tdk0fw"><!></div>');function Z(c,s){G(s,!0);const{stories:i,staff:v}=H("Home");let d=j(void 0),o=j(void 0);T(()=>{const l=i.filter(e=>e.faves),n=O(l)[0].faves.trim(),m=l.filter(e=>e.faves===n).slice(0,3);w(o,q(v.find(e=>e.id===n)));const p=m.map(({href:e,short:u})=>`<a href=${e} rel="external" class="bold-link">${u}</a>`).join(", ");w(d,q(p.replace(/,([^,]*)$/," and$1")))});var b=Y(),k=r(b);I(k,()=>a(d),g=>{var l=X(),n=C(l),m=x(r(n));J(m,()=>a(d)),y(),t(n);var p=x(n,2),e=r(p),u=r(e),S=x(u,2),M=r(S,!0);t(S),y(2),t(e),t(p),z(()=>{_(e,"href",`${$??""}/author/${a(o).slug??""}`),_(u,"src",`${$??""}/common/assets/authors/${a(o).id??""}.jpg`),_(u,"alt",`headshot of ${a(o).name??""}`),D(M,a(o).name)}),f(g,l)}),t(b),f(c,b),A()}var ee=h('<li class="svelte-lc01k1"><!></li>'),se=h('<section id="stories" class="svelte-lc01k1"><ul class="svelte-lc01k1"></ul></section>');function ve(c,s){const i={Subscribe:U,Faves:Z,Merch:W};let v=E(s,"resource",3,!1);var d=se(),o=r(d);K(o,21,()=>s.stories,L,(b,k)=>{var g=ee();const l=B(()=>i[a(k).component]);var n=r(g);I(n,()=>a(l),m=>{var p=P(),e=C(p);N(e,()=>a(l),(u,S)=>{S(u,F(()=>a(k)))}),f(m,p)},m=>{Q(m,F(()=>a(k),{get resource(){return v()}}))}),t(g),f(b,g)}),t(o),t(d),f(c,d)}export{ve as S};
