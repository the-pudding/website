import{a as f,t as b,c as M}from"./disclose-version.B6U6Qg9F.js";import{g as r,j as t,i as x,s as w,m as B,ac as G,v as H,w as $,k as P,l as a,t as T,o as q,x as j,y as A}from"./index-client.Br0fZ5fH.js";import{e as z,i as C,b as D,p as E,j as F}from"./props.C2gVJaBR.js";import{s as _,h as J,e as K,i as L}from"./attributes.Bkhssghn.js";import{c as N}from"./svelte-component.ZC_HgcEA.js";import"./transform.BXP9HJX6.js";import{s as O,S as Q}from"./Story.CfRdYFOo.js";import{b as y}from"./entry.C9FkBFZ-.js";var R=b('<div class="interstitial-inner svelte-1m8clz7"><div class="sticker-set svelte-1m8clz7"><img class="icon svelte-1m8clz7" alt="mailbox sticker"></div> <p class="svelte-1m8clz7">Get The Pudding in your inbox</p> <form action="https://buttondown.com/api/emails/embed-subscribe/thepudding" method="post" class="embeddable-buttondown-form svelte-1m8clz7"><input type="email" class="email-input svelte-1m8clz7" name="email" placeholder="you@example.com"> <input type="hidden" value="1" name="embed"> <input type="submit" class="submit-input svelte-1m8clz7" value="Subscribe"></form> <p class="credit svelte-1m8clz7"><a href="https://buttondown.com" target="_blank" class="svelte-1m8clz7">Powered by Buttondown.</a></p></div>');function U(n){var s=R(),i=r(s),v=r(i);_(v,"src",`${y??""}/assets/stickers/mailbox@2x.png`),t(i),x(6),t(s),f(n,s)}var V=b(`<div class="interstitial-inner svelte-14g0gtj"><p class="svelte-14g0gtj">If you like our stories, you'll love our merch</p> <div class="sticker-set svelte-14g0gtj"><img class="icon svelte-14g0gtj" alt="pudding tee"></div> <a href="https://the-pudding.printify.me/products" class="svelte-14g0gtj">Shop our swag</a></div>`);function W(n){var s=V(),i=w(r(s),2),v=r(i);_(v,"src",`${y??""}/assets/img/merch-tease.png`),t(i),x(2),t(s),f(n,s)}var X=b('<p class="svelte-tdk0fw">Some of my favorite projects are about <!>.</p> <div class="credit svelte-tdk0fw"><a class="svelte-tdk0fw"><img class="svelte-tdk0fw"> <p class="name svelte-tdk0fw"> </p> <p class="title svelte-tdk0fw">Pudding Staff</p></a></div>',1),Y=b('<div class="interstitial-inner svelte-tdk0fw"><!></div>');function Z(n,s){B(s,!0);const{stories:i,staff:v}=G("Home");let m=j(void 0),o=j(void 0);H(()=>{const l=i.filter(e=>e.faves),c=O(l)[0].faves.trim(),d=l.filter(e=>e.faves===c).slice(0,3);$(o,z(v.find(e=>e.id===c)));const p=d.map(({href:e,short:u})=>`<a href=${e} rel="external" class="bold-link">${u}</a>`).join(", ");$(m,z(p.replace(/,([^,]*)$/," and$1")))});var h=Y(),k=r(h);C(k,()=>a(m),g=>{var l=X(),c=P(l),d=w(r(c));J(d,()=>a(m)),x(),t(c);var p=w(c,2),e=r(p),u=r(e),S=w(u,2),I=r(S,!0);t(S),x(2),t(e),t(p),T(()=>{_(e,"href",`${y??""}/author/${a(o).slug??""}`),_(u,"src",`${y??""}/common/assets/authors/${a(o).id??""}.jpg`),_(u,"alt",`headshot of ${a(o).name??""}`),D(I,a(o).name)}),f(g,l)}),t(h),f(n,h),q()}var ee=b('<li class="svelte-lc01k1"><!></li>'),se=b('<section id="stories" class="svelte-lc01k1"><ul class="svelte-lc01k1"></ul></section>');function ve(n,s){const i={Subscribe:U,Faves:Z,Merch:W};let v=E(s,"resource",3,!1);var m=se(),o=r(m);K(o,21,()=>s.stories,L,(h,k)=>{var g=ee();const l=A(()=>i[a(k).component]);var c=r(g);C(c,()=>a(l),d=>{var p=M(),e=P(p);N(e,()=>a(l),(u,S)=>{S(u,F(()=>a(k)))}),f(d,p)},d=>{Q(d,F(()=>a(k),{get resource(){return v()}}))}),t(g),f(h,g)}),t(o),t(m),f(n,m)}export{ve as S};
