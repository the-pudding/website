import{a as c,t as m,c as G}from"./disclose-version.CREomnJd.js";import{g as a,j as s,i as S,s as _,m as H,ac as T,k as I,t as q,o as A,l as f,y as D}from"./index-client.C6T7o1Pl.js";import{b as E,p as J,i as K,j as C}from"./props.Mmf_V8nX.js";import{s as g,h as L,e as N,i as O}from"./attributes.BlsqhsvY.js";import{c as Q}from"./svelte-component.Bl7OFGSR.js";import"./transform.BXP9HJX6.js";import{s as R,k as U,S as V}from"./Story.Cz7FAk1O.js";import{b as y}from"./entry.C31iWQWu.js";var W=m('<div class="interstitial-inner svelte-1m8clz7"><div class="sticker-set svelte-1m8clz7"><img class="icon svelte-1m8clz7" alt="mailbox sticker"></div> <p class="svelte-1m8clz7">Get The Pudding in your inbox</p> <form action="https://buttondown.com/api/emails/embed-subscribe/thepudding" method="post" class="embeddable-buttondown-form svelte-1m8clz7"><input type="email" class="email-input svelte-1m8clz7" name="email" placeholder="you@example.com"> <input type="hidden" value="1" name="embed"> <input type="submit" class="submit-input svelte-1m8clz7" value="Subscribe"></form> <p class="credit svelte-1m8clz7"><a href="https://buttondown.com" target="_blank" class="svelte-1m8clz7">Powered by Buttondown.</a></p></div>');function X(i){var e=W(),r=a(e),l=a(r);g(l,"src",`${y??""}/assets/stickers/mailbox@2x.png`),s(r),S(6),s(e),c(i,e)}var Y=m(`<div class="interstitial-inner svelte-14g0gtj"><p class="svelte-14g0gtj">If you like our stories, you'll love our merch</p> <div class="sticker-set svelte-14g0gtj"><img class="icon svelte-14g0gtj" alt="pudding tee"></div> <a href="https://the-pudding.printify.me/products" class="svelte-14g0gtj">Shop our swag</a></div>`);function Z(i){var e=Y(),r=_(a(e),2),l=a(r);g(l,"src",`${y??""}/assets/img/merch-tease.png`),s(r),S(2),s(e),c(i,e)}var ee=m('<p class="svelte-tdk0fw">Some of my favorite projects are about <!>.</p> <div class="credit svelte-tdk0fw"><a class="svelte-tdk0fw"><img class="svelte-tdk0fw"> <p class="name svelte-tdk0fw"> </p> <p class="title svelte-tdk0fw">Pudding Staff</p></a></div>',1),se=m('<div class="interstitial-inner svelte-tdk0fw"><!></div>');function te(i,e){H(e,!0);const{stories:r,staff:l}=T("Home"),d=3,p=r.filter(t=>t.faves),b=R(p)[0].faves.trim(),o=l.find(t=>t.id===b),k=p.filter(t=>t.faves===b).slice(0,d).map(({href:t,short:v})=>`<a href=${t} rel="external" class="bold-link">${v}</a>`).join(", ").replace(/,([^,]*)$/," and$1"),u={author:o,links:k};var n=se(),$=a(n);U($,()=>u,t=>{var v=ee(),x=I(v),M=_(a(x));L(M,()=>k),S(),s(x);var F=_(x,2),j=a(F),z=a(j),P=_(z,2),B=a(P,!0);s(P),S(2),s(j),s(F),q(()=>{g(j,"href",`${y??""}/author/${o.slug??""}`),g(z,"src",`${y??""}/common/assets/authors/${o.id??""}.jpg`),g(z,"alt",`headshot of ${o.name??""}`),E(B,o.name)}),c(t,v)}),s(n),c(i,n),A()}var ae=m('<li class="svelte-lc01k1"><!></li>'),re=m('<section id="stories" class="svelte-lc01k1"><ul class="svelte-lc01k1"></ul></section>');function pe(i,e){const r={Subscribe:X,Faves:te,Merch:Z};let l=J(e,"resource",3,!1);var d=re(),p=a(d);N(p,21,()=>e.stories,O,(b,o)=>{var h=ae();const w=D(()=>r[f(o).component]);var k=a(h);K(k,()=>f(w),u=>{var n=G(),$=I(n);Q($,()=>f(w),(t,v)=>{v(t,C(()=>f(o)))}),c(u,n)},u=>{V(u,C(()=>f(o),{get resource(){return l()}}))}),s(h),c(b,h)}),s(p),s(d),c(i,d)}export{pe as S};
